<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Primary Meta Tags -->
    <title>Kohlschwarz Think-Tank | Data Apps Built with Shelley</title>
    <meta name="title" content="Kohlschwarz Think-Tank | Data Apps Built with Shelley">
    <meta name="description" content="Data processing and visualization apps built in 1-2 hours using Shelley on exe.dev. Austrian open data projects: forest carbon, drought risk, schools, healthcare access, energy infrastructure, farm subsidies.">
    <meta name="keywords" content="data visualization, Austria, open data, Shelley, exe.dev, forest harvest, drought risk, schools, maternity wards, childcare, wind energy, farm subsidies">
    <meta name="author" content="Kohlschwarz Think-Tank">
    <meta name="robots" content="index, follow">
    <link rel="canonical" href="https://kohlschwarz.exe.xyz:8000/">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://kohlschwarz.exe.xyz:8000/">
    <meta property="og:title" content="Kohlschwarz Think-Tank | Data Apps Built with Shelley">
    <meta property="og:description" content="Data processing and visualization apps built in 1-2 hours using Shelley on exe.dev. Austrian open data projects with methods and downloadable data.">
    <meta property="og:image" content="https://kohlschwarz.exe.xyz:8000/static/og-image.jpg">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:site_name" content="Kohlschwarz Think-Tank">
    
    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://kohlschwarz.exe.xyz:8000/">
    <meta name="twitter:title" content="Kohlschwarz Think-Tank | Data Apps Built with Shelley">
    <meta name="twitter:description" content="Data processing and visualization apps built in 1-2 hours using Shelley on exe.dev.">
    <meta name="twitter:image" content="https://kohlschwarz.exe.xyz:8000/static/og-image.jpg">
    
    <!-- Favicon -->
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><polygon points='50,10 90,90 10,90' fill='%23111'/></svg>">
    
    <!-- Theme -->
    <meta name="theme-color" content="#111111">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
    <link rel="stylesheet" href="/static/style.css?v=4">
</head>
<body>
    <main>
        <header>
            <h1>Kohlschwarz Think-Tank</h1>
            <p class="tagline">Civic data apps built for Austria with Shelley on <a href="https://exe.dev">exe.dev</a></p>
        </header>

        <div class="grid">
            {{range .Apps}}
            <a href="{{.Url}}" class="card" target="_blank" rel="noopener" data-id="{{.ID}}" onclick="trackClick({{.ID}})">
                {{if .Thumbnail}}
                <div class="thumb" style="background-image: url('{{.Thumbnail}}')"></div>
                {{end}}
                <div class="content">
                    <div class="title-row">
                        <h2>{{.Title}}</h2>
                        {{if .ClickCount}}<span class="click-count">{{.ClickCount}}</span>{{end}}
                    </div>
                    <p>{{.Description}}</p>
                    {{if .Prompt}}
                    <div class="prompt-wrap">
                        <button type="button" class="prompt-btn" data-prompt="{{.Prompt}}" onclick="event.preventDefault(); event.stopPropagation(); togglePrompt(this.dataset.prompt)">
                            <span class="prompt-icon">✨</span> shelley prompt
                        </button>
                        <div class="prompt-tooltip">{{.Prompt}}</div>
                    </div>
                    {{end}}
                </div>
            </a>
            {{end}}
        </div>

        <footer>
            <p>~1-2 hours each · Methods & data included</p>
            <p class="legal-links"><a href="/impressum">Impressum</a> · <a href="/datenschutz">Datenschutz</a></p>
        </footer>
    </main>

    <div id="prompt-overlay" onclick="closePrompt()"></div>
    <div id="prompt-sheet">
        <span class="prompt-close" onclick="closePrompt()">✕</span>
        <p id="prompt-text"></p>
    </div>

    <script>
    function togglePrompt(text) {
        const sheet = document.getElementById('prompt-sheet');
        const overlay = document.getElementById('prompt-overlay');
        document.getElementById('prompt-text').textContent = text;
        sheet.classList.add('active');
        overlay.classList.add('active');
    }
    function closePrompt() {
        document.getElementById('prompt-sheet').classList.remove('active');
        document.getElementById('prompt-overlay').classList.remove('active');
    }
    function trackClick(id) {
        fetch('/api/click/' + id, {method: 'POST'}).catch(() => {});
    }
    </script>
</body>
</html>
